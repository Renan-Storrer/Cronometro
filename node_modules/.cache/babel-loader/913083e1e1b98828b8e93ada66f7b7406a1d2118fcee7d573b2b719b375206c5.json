{"ast":null,"code":"import _slicedToArray from\"/home/renan/Cronometro/cronometro/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useRef}from\"react\";import Counter from\"./components/counter\";import myaudio from\"./assets/song.mp3\";import Footer from\"./components/Footer\";import'./styles/App.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var getYear=new Date().getFullYear();var _useState=useState(0),_useState2=_slicedToArray(_useState,2),countMin=_useState2[0],setCountMin=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),countSec=_useState4[0],setCountSec=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isRunning=_useState6[0],setIsRunning=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),control=_useState8[0],setControl=_useState8[1];var _useState9=useState(new Audio(myaudio)),_useState10=_slicedToArray(_useState9,2),audio=_useState10[0],setAudio=_useState10[1];var minute=useRef();var second=useRef();var handleChange=function handleChange(){var getMin=minute.current.value;var getSec=second.current.value;if(getMin<=1440&&getMin>=0)setCountMin(+minute.current.value);else setCountMin(0);if(getSec<=59&&getSec>=0)setCountSec(+second.current.value);else setCountSec(0);};var handleReset=function handleReset(){setCountMin(0);setCountSec(0);setIsRunning(false);setControl(0);audio.pause();audio.currentTime=0;};useEffect(function(){var interval=null;if(control===0&&isRunning){setControl(1);audio.play();audio.loop=true;}if(control===1&&!isRunning){setControl(0);audio.play();audio.loop=true;}if(isRunning&&countMin>=0&&countSec>0){interval=setInterval(function(){setCountSec(function(){return countSec-1;});},1000);}else if(isRunning&&countMin>0&&countSec===0){setCountMin(function(){return countMin-1;});setCountSec(function(){return 59;});}else if(!isRunning&&countSec!==0){clearInterval(interval);audio.play();audio.loop=true;setControl(0);}else if(isRunning&&countMin===0&&countSec===0){setControl(0);clearInterval(interval);audio.pause();audio.currentTime=0;setIsRunning(false);alert('Seu tempo acabou...');}return function(){return clearInterval(interval);};},[countMin,countSec,isRunning]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"STRANGER TIMER\"})}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(Counter,{minute:minute,handleChange:handleChange,countMin:countMin,second:second,countSec:countSec,setIsRunning:setIsRunning,handleReset:handleReset})}),/*#__PURE__*/_jsx(Footer,{})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useRef","Counter","myaudio","Footer","App","getYear","Date","getFullYear","countMin","setCountMin","countSec","setCountSec","isRunning","setIsRunning","control","setControl","Audio","audio","setAudio","minute","second","handleChange","getMin","current","value","getSec","handleReset","pause","currentTime","interval","play","loop","setInterval","clearInterval","alert"],"sources":["/home/renan/Cronometro/cronometro/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport Counter from \"./components/counter\";\nimport myaudio from \"./assets/song.mp3\"\nimport Footer from \"./components/Footer\";\nimport './styles/App.scss';\n\nfunction App() {\n  const getYear = new Date().getFullYear();\n\n  const [countMin, setCountMin] = useState(0);\n  const [countSec, setCountSec] = useState(0);\n  const [isRunning, setIsRunning] = useState(false);\n  const [control, setControl] = useState(0);\n  const [audio, setAudio] = useState(new Audio(myaudio));\n\n  const minute = useRef();\n  const second = useRef();\n\n  const handleChange = () => {\n    const getMin = minute.current.value;\n    const getSec = second.current.value;\n\n    if (getMin <= 1440 && getMin >= 0) setCountMin(+minute.current.value);\n    else setCountMin(0);\n\n    if (getSec <= 59 && getSec >= 0) setCountSec(+second.current.value);\n    else setCountSec(0);\n\n  }\n\n\n  const handleReset = () => {\n    setCountMin(0);\n    setCountSec(0);\n    setIsRunning(false);\n    setControl(0);\n    audio.pause();\n    audio.currentTime = 0;\n  };\n\n  useEffect(() => {\n    let interval = null;\n\n    if (control === 0 && isRunning) {\n      setControl(1);\n      audio.play();\n      audio.loop = true;\n    }\n\n    if (control === 1 && !isRunning) {\n      setControl(0);\n      audio.play();\n      audio.loop = true;\n    }\n\n    if (isRunning && countMin >= 0 && countSec > 0) {\n      interval = setInterval(() => {\n        setCountSec(() => countSec - 1);\n      }, 1000);\n    } else if (isRunning && countMin > 0 && countSec === 0) {\n      setCountMin(() => countMin - 1);\n      setCountSec(() => 59);\n    } else if (!isRunning && countSec !== 0) {\n      clearInterval(interval);\n      audio.play();\n      audio.loop = true;\n      setControl(0);\n    } else if (isRunning && countMin === 0 && countSec === 0) {\n      setControl(0);\n      clearInterval(interval);\n      audio.pause();\n      audio.currentTime = 0;\n      setIsRunning(false);\n      alert('Seu tempo acabou...');\n    }\n\n    return () => clearInterval(interval);\n  }, [countMin, countSec, isRunning]);\n  return (\n    <div className=\"App\">\n      <header>\n        <h1>STRANGER TIMER</h1>\n      </header>\n      <main>\n        <Counter\n          minute={minute}\n          handleChange={handleChange}\n          countMin={countMin}\n          second={second}\n          countSec={countSec}\n          setIsRunning={setIsRunning}\n          handleReset={handleReset}\n        />\n      </main>\n      <Footer/>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}